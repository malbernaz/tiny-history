var createHistory=function(){"use strict";function t(t){return e.href=t,{pathname:"/"+(e.pathname||location.pathname).split("/").filter(Boolean).join("/"),search:e.search,hash:e.hash}}function n(n,r){var e,o={state:r||null};if(void 0===n)e=t(location.href);else{var a=Math.random().toString(36).substr(2,5);e=t(n),o.key=a}return o.pathname=e.pathname,o.search=e.search,o.hash=e.hash,o}function r(){function t(t){u=t.state||i[0],a.forEach(function(t){return t(u,"POP")})}function r(n){if("function"!=typeof n)throw Error("listener must be a function");return a.push(n),1===a.length&&addEventListener("popstate",t,!1),function(){(a=a.filter(function(t,r){return r!==a.indexOf(n)})).length||removeEventListener("popstate",t)}}function e(t,r){u=n(t,r),i.push(u),history.pushState(u,null,t),a.forEach(function(t){return t(u,"PUSH")})}function o(t,r){u=n(t,r),i.pop(),i.push(u),history.replaceState(u,null,t),a.forEach(function(t){return t(u,"REPLACE")})}var a=[],u=n(),i=[u];return{go:function(t){return history.go(t)},back:function(){return history.back()},forward:function(){return history.forward()},get length(){return i.length},get location(){return u},listen:r,push:e,replace:o}}var e=document.createElement("a");return r}();
//# sourceMappingURL=tiny-history.js.map
