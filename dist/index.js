"use strict";function parseURL(t){return a.href=t,{pathname:"/"+(a.pathname||location.pathname).split("/").filter(Boolean).join("/"),search:a.search,hash:a.hash}}function createLocation(t,e){var n,r={state:e||null};if(void 0===t)n=parseURL(location.href);else{var a=Math.random().toString(36).substr(2,5);n=parseURL(t),r.key=a}return r.pathname=n.pathname,r.search=n.search,r.hash=n.hash,r}function createHistory(){function t(t){o=t.state||i[0],a.forEach(function(t){return t(o,"POP")})}function e(e){if("function"!=typeof e)throw Error("listener must be a function");return a.push(e),1===a.length&&addEventListener("popstate",t,!1),function(){(a=a.filter(function(t,n){return n!==a.indexOf(e)})).length||removeEventListener("popstate",t)}}function n(t,e){o=createLocation(t,e),i.push(o),history.pushState(o,null,t),a.forEach(function(t){return t(o,"PUSH")})}function r(t,e){o=createLocation(t,e),i.pop(),i.push(o),history.replaceState(o,null,t),a.forEach(function(t){return t(o,"REPLACE")})}var a=[],o=createLocation(),i=[o];return{go:function(t){return history.go(t)},back:function(){return history.back()},forward:function(){return history.forward()},get length(){return i.length},get location(){return o},listen:e,push:n,replace:r}}var a=document.createElement("a");module.exports=createHistory;
//# sourceMappingURL=index.js.map
