function createLocation(t,n){return a=a||document.createElement("a"),a.href=t||location.href,{state:n||null,pathname:"/"+(a.pathname||location.pathname).split("/").filter(Boolean).join("/"),search:a.search,hash:a.hash,key:t&&Math.random().toString(36).substr(2,5)}}function createHistory(){function t(){a.forEach(function(t){return t(o,e)})}function n(n){o=n.state||r[0],e="POP",t()}var e,a=[],o=createLocation(),r=[o];return{get length(){return r.length},get location(){return o},get action(){return e},listen:function(t){return a.push(t),1===a.length&&addEventListener("popstate",n,!1),function(){a.splice(a.indexOf(t),1),a.length||removeEventListener("popstate",n)}},push:function(n,a){o=createLocation(n,a),r.push(o),history.pushState(o,null,n),e="PUSH",t()},replace:function(n,a){o=createLocation(n,a),r.pop(),r.push(o),history.replaceState(o,null,n),e="REPLACE",t()},go:function(t){history.go(t)},back:function(){history.back()},forward:function(){history.forward()}}}var a;export default createHistory;
//# sourceMappingURL=tiny-history.esm.js.map
